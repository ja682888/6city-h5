/*!  v 0.0.1  | (c) Tue Sep 19 2017 19:10:00 GMT+0800 (中国标准时间)  Julian  | https://github.com/zanjs/6city-h5#readme  app */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LazyLoadImg=e()}(this,function(){"use strict";var t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.getBoundingClientRect(),n=t.offsetWidth,o=t.offsetHeight,r=window.innerWidth,s=window.innerHeight,a=!(i.right-e.left<=0&&i.left+n-e.left<=0||i.left+e.right>=r&&i.right+e.right>=n+r),c=!(i.bottom-e.top<=0&&i.top+o-e.top<=0||i.top+e.bottom>=s&&i.bottom+e.bottom>=o+s);return 0!==t.width&&0!==t.height&&a&&c},e=document.createElement("canvas");e.getContext("2d").globalAlpha=0;var i={},n=function(t,n,o){if(i[t])return i[t];e.width=n,e.height=o;var r=e.toDataURL("image/png");return i[t]=r,r},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=window,c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.options={el:document.querySelector("body"),mode:"default",time:300,done:!0,diy:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center"},position:{top:0,right:0,bottom:0,left:0},before:function(t){},success:function(t){},error:function(t){}},t.position=s({},this.options.position,t.position),t.diy=s({},this.options.diy,t.diy),s(this.options,t),this.start()}return r(e,[{key:"start",value:function(){this._timer=!0,this._start()}},{key:"_start",value:function(){var e=this,i=this.options;clearTimeout(this._timer),this._timer&&(this._timer=setTimeout(function(){var n=Array.prototype.slice.apply(i.el.querySelectorAll("[data-src]"));return!n.length&&i.done?clearTimeout(e._timer):(n.forEach(function(n){!n.dataset.LazyLoadImgState&&t(n,i.position)&&e.loadImg(n)}),void e._start())},i.time))}},{key:"loadImg",value:function(t){var e=this,i=this.options;t.dataset.LazyLoadImgState="start",i.before.call(this,t);var o=new a.Image;o.src=t.dataset.src,o.addEventListener("load",function(){return"diy"===i.mode?(t.src=n(t.src,t.width,t.height),i.diy.backgroundImage="url("+o.src+")",s(t.style,i.diy)):t.src=o.src,delete t.dataset.src,delete t.dataset.LazyLoadImgState,i.success.call(e,t)},!1),o.addEventListener("error",function(){delete t.dataset.src,delete t.dataset.LazyLoadImgState,i.error.call(e,t)},!1)}},{key:"destroy",value:function(){delete this._timer}}]),e}();return c}),!function(t,e){function i(){var e=r.getBoundingClientRect().width;e/c>750&&(e=750*c);var i=e/10;r.style.fontSize=i+"px",l.rem=t.rem=i}var n,o=t.document,r=o.documentElement,s=o.querySelector('meta[name="viewport"]'),a=o.querySelector('meta[name="flexible"]'),c=0,h=0,l=e.flexible||(e.flexible={});if(s){console.warn("将根据已有的meta标签来设置缩放比例");var u=s.getAttribute("content").match(/initial\-scale=([\d\.]+)/);u&&(h=parseFloat(u[1]),c=parseInt(1/h))}else if(a){var d=a.getAttribute("content");if(d){var f=d.match(/initial\-dpr=([\d\.]+)/),p=d.match(/maximum\-dpr=([\d\.]+)/);f&&(c=parseFloat(f[1]),h=parseFloat((1/c).toFixed(2))),p&&(c=parseFloat(p[1]),h=parseFloat((1/c).toFixed(2)))}}if(!c&&!h){var _=t.navigator.userAgent,m=(!!_.match(/android/gi),!!_.match(/iphone/gi)),v=m&&!!_.match(/OS 9_3/),y=t.devicePixelRatio;c=m&&!v?y>=3&&(!c||c>=3)?3:y>=2&&(!c||c>=2)?2:1:1,h=1/c}if(r.setAttribute("data-dpr",c),!s)if(s=o.createElement("meta"),s.setAttribute("name","viewport"),s.setAttribute("content","initial-scale="+h+", maximum-scale="+h+", minimum-scale="+h+", user-scalable=no"),r.firstElementChild)r.firstElementChild.appendChild(s);else{var g=o.createElement("div");g.appendChild(s),o.write(g.innerHTML)}t.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(i,300)},!1),t.addEventListener("pageshow",function(t){t.persisted&&(clearTimeout(n),n=setTimeout(i,300))},!1),"complete"===o.readyState?o.body.style.fontSize=12*c+"px":o.addEventListener("DOMContentLoaded",function(){o.body.style.fontSize=12*c+"px"},!1),i(),l.dpr=t.dpr=c,l.refreshRem=i,l.rem2px=function(t){var e=parseFloat(t)*this.rem;return"string"==typeof t&&t.match(/rem$/)&&(e+="px"),e},l.px2rem=function(t){var e=parseFloat(t)/this.rem;return"string"==typeof t&&t.match(/px$/)&&(e+="rem"),e}}(window,window.lib||(window.lib={})),function(t,e){"function"==typeof define?define(e):this[t]=e()}("Swiper",function(){function t(t){this.version="1.0.3",this._default={container:".swiper",item:".item",direction:"vertical",activeClass:"active",infinite:!1,threshold:30,duration:600,autoSwitch:!1,loopTime:5e3,easing:"linear",progressBar:!1},this._options=e(this._default,t),this._start={},this._move={},this._end={},this._prev=0,this._current=0,this._offset=0,this._goto=-1,this._eventHandlers={},this._lock=!1,this._loopInterval=null,this.$container=document.querySelector(this._options.container),this.$items=this.$container.querySelectorAll(this._options.item),this.count=this.$items.length,this._options.progressBar&&(this.$progressBar=document.querySelector(".progress-bar"),this.$progressItems=this.$progressBar.querySelectorAll("i")),this._width=this.$container.offsetWidth,this._height=this.$container.offsetHeight,this._loopWidth=this.count*this._width,this._loopHeight=this.count*this._height,this._copy(),this._init(),this._bind(),this._marquee()}function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t,e){if(e._options.infinite){var i="0ms",n="";if(e.$container.style["-webkit-transition"]=i,e.$container.style.transition=i,t==e.count)n="translate3d(0, 0, 0)","horizontal"===e._options.direction&&(n="translate3d(0, 0, 0)"),e.$container.style["-webkit-transform"]=n,e.$container.style.transform=n,e._offset=0,e._current=0;else if(t==-1){var o=(e.count-1)*e._height;n="translate3d(0, -"+o+"px, 0)","horizontal"===e._options.direction&&(o=(e.count-1)*e._width,n="translate3d(-"+o+"px, 0, 0)"),e.$container.style["-webkit-transform"]=n,e.$container.style.transform=n,e._offset=o,e._current=e.count-1}}}function n(){}return t.prototype._copy=function(){if(this._options.infinite!==!1){var t=this,e=t.$items[0].cloneNode(!0),i=t.$items[t.count-1].cloneNode(!0);t.$container.appendChild(e),t.$container.insertBefore(i,t.$items[0]),t.$container.style.left="-"+this._width+"px"}},t.prototype._marquee=function(){if(this._options.autoSwitch!==!1){var t=this,e=t._options.loopTime,i=-1;this._loopInterval=setInterval(function(){i>t.count&&(this._lock=0,t._offset=0,t._current=0),i=t._current+1,t._show(i),t._prev=t._current++},e)}},t.prototype._init=function(){var t=this,e=t._width,i=(t._height,t.count+2),n=e;"horizontal"===t._options.direction&&(n=e*i),t.$container.style.width=n+"px",Array.prototype.forEach.call(t.$container.querySelectorAll(this._options.item),function(t,i){t.style.width=e+"px"}),t._activate(0)},t.prototype._bind=function(){var t=this;this.$container.addEventListener("touchstart",function(e){t._lock||(t._start.x=e.changedTouches[0].pageX,t._start.y=e.changedTouches[0].pageY,t.$container.style["-webkit-transition"]="none",t.$container.style.transition="none")},!1),this.$container.addEventListener("touchmove",function(e){if(!t._lock){t._move.x=e.changedTouches[0].pageX,t._move.y=e.changedTouches[0].pageY;var i=t._move.y-t._start.y,n="translate3d(0, "+(i-t._offset)+"px, 0)";"horizontal"===t._options.direction&&(i=t._move.x-t._start.x,n="translate3d("+(i-t._offset)+"px, 0, 0)"),t.$container.style["-webkit-transform"]=n,t.$container.style.transform=n,e.preventDefault()}},!1),this.$container.addEventListener("touchend",function(e){if(!t._lock){t._end.x=e.changedTouches[0].pageX,t._end.y=e.changedTouches[0].pageY;var i=t._end.y-t._start.y;"horizontal"===t._options.direction&&(i=t._end.x-t._start.x),t._prev=t._current,i>t._options.threshold?t._options.infinite===!1?t._current=0===t._current?0:--t._current:t._current=0===t._current?-1:--t._current:i<-t._options.threshold&&(t._options.infinite===!1?t._current=t._current<t.count-1?++t._current:t._current:t._current=t._current<t.count-1?++t._current:t.count),t._show(t._current),e.preventDefault()}},!1),this.$container.addEventListener("transitionEnd",function(t){},!1),this.$container.addEventListener("webkitTransitionEnd",function(e){if(i(t._current,t),t._lock=!t._lock,e.target!==t.$container)return!1;if(t._current!=t._prev||t._goto>-1){t._activate(t._current);var o=t._eventHandlers.swiped||n;o.apply(t,[t._prev,t._current]),t._goto=-1}e.preventDefault()},!1)},t.prototype._show=function(t){if(!this._lock){this._lock=!this._lock,this._offset=t*this._height;var e="translate3d(0, "+-1*this._offset+"px, 0)";"horizontal"===this._options.direction&&(this._offset=t*this._width,e="translate3d("+-1*this._offset+"px, 0, 0)");var i=this._options.duration+"ms "+this._options.easing;this.$container.style["-webkit-transition"]=i,this.$container.style.transition=i,this.$container.style["-webkit-transform"]=e,this.$container.style.transform=e}},t.prototype._activate=function(t){var e=this._options.activeClass;console.log(t),console.log(this.$items.length),Array.prototype.forEach.call(this.$items,function(i,n){i.classList.remove(e),t===n&&i.classList.add(e)}),this._options.progressBar&&Array.prototype.forEach.call(this.$progressItems,function(i,n){i.classList.remove(e),t===n&&i.classList.add(e)})},t.prototype.resetLoop=function(){clearInterval(this._loopInterval);var t="translate3d(0, 0, 0)",e="0ms";this._activate(0),this.$container.style["-webkit-transition"]=e,this.$container.style.transition=e,this.$container.style["-webkit-transform"]=t,this.$container.style.transform=t,this._prev=0,this._current=0,this._offset=0,this._goto=-1,this._lock=!1,this._loopInterval=null,this._marquee()},t.prototype.go=function(t){if(!(t<0||t>this.count-1||t===this._current))return 0===t?(this._current=0,this._prev=0):(this._current=t,this._prev=t-1),this._goto=t,this._show(this._current),this},t.prototype.next=function(){if(!(this._current>=this.count-1))return this._prev=this._current,this._show(++this._current),this},t.prototype.on=function(t,e){if(this._eventHandlers[t])throw new Error("event "+t+" is already register");if("function"!=typeof e)throw new Error("parameter callback must be a function");return this._eventHandlers[t]=e,this},t}),function(){window.onload=function(){new LazyLoadImg({el:document.querySelector("#app"),mode:"default",time:300,complete:!0,position:{top:0,right:0,bottom:0,left:0},before:function(){},success:function(t){t.classList.add("loading-success")},error:function(t){t.src="./build/img/browser.png"}});window.swiper=new Swiper({direction:"horizontal",easing:"cubic-bezier(.10, .71, .39, .93)"})}}();